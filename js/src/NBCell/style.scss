@import "@primer/css/markdown/index.scss";

.codecell {
    height: 100%;

    pre {
        margin: 8px 0;
    }

    table.dataframe {
        border: none;
        border-collapse: collapse;
        border-spacing: 0;
        color: #000;
        font-size: 12px;
        table-layout: fixed;
        width: 100%;

        thead {
            border-bottom: 1px solid #000;
            vertical-align: bottom;
        }
        tr,
        th,
        td {
            text-align: right;
            vertical-align: middle;
            padding: 0.5em 0.5em;
            line-height: normal;
            white-space: normal;
            max-width: none;
            border: none;
        }
        th {
            font-weight: bold;
        }
        tbody tr:nth-child(odd) {
            background: #f5f5f5;
        }
        tbody tr:hover {
            background: rgba(66, 165, 245, 0.2);
        }
        * + table {
            margin-top: 1em;
        }
    }

    // Widgets
    .loading-widget {
        text-align: center !important;
        margin-bottom: 1rem;

        .spinner-grow {
            width: 0.5rem;
            height: 0.5rem;
            color: #555;
            z-index: 1000;
        }

        .loading-text {
            color: #555;
            font-size: 0.8em;
            margin-top: 0;
            margin-bottom: 0;
        }
    }

    .widget-play .jupyter-button {
        min-height: 28px;
    }

    .jupyter-widgets.leaflet-widgets {
        height: 100% !important;
    }

    .widget-vbox {
        height: 100%;
    }

    .q-grid-container {
        .filter-icon {
            margin-top: 7px;
        }
    }

    // Plots

    // SVG outputs from MPL
    .jp-RenderedSVG {
        img {
            width: 100%;
            height: 100%;
        }
    }

    .js-plotly-plot {
        width: 100% !important;
        height: 100% !important;
    }

    .plot-container.plotly .modebar-container svg {
        // Fix plotly toolbar icons
        width: 1em;
        height: 1em;
    }

    .vega-embed {
        width: 100%;
        height: 95%;
        min-width: 100% !important;

        &.has-actions {
            width: calc(100% - 38px);
            padding-right: 0;

            summary {
                margin-right: -38px;
            }
        }

        // Fix altair toolbar (icons are svgs)
        // Looks like it snot needed anymore but leaving here for now just in case
        // summary svg {
        //     width: 14px;
        //     height: 14px;
        // }
    }

    .bk-root {
        width: 100% !important;
        height: 100% !important;
    }

    .bqplot {
        height: 100% !important;
        width: 99% !important;
    }
}

.sidebar {
    .loading-widget {
        .spinner-grow {
            color: #fff;
        }
        .loading-text {
            color: #fff;
        }
    }
}
