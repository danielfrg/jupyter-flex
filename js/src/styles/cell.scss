.markdown-body {
    blockquote p {
        display: block;
    }

    pre {
        margin-bottom: 16px !important;
        margin: 8px 0;
    }

    img {
        max-width: 100%;
    }
}

.md-cell {
    background: transparent !important;
}

.code-cell {
    margin: 0 !important;
    background: transparent !important;
    flex-grow: 1;

    .nteract-outputs {
        padding: 0;
        // overflow: auto;
    }

    // If we are in a code cell leave the margin-bottom
    .markdown-body {
        & > *:last-child {
            margin-bottom: 8px !important;
        }
    }

    // Pandas tables
    table.dataframe {
        border: none;
        border-collapse: collapse;
        border-spacing: 0;
        color: #000;
        font-size: 12px;
        table-layout: fixed;
        width: 100%;

        thead {
            border-bottom: 1px solid #000;
            vertical-align: bottom;
        }
        tr,
        th,
        td {
            text-align: right;
            vertical-align: middle;
            padding: 0.5em 0.5em;
            line-height: normal;
            white-space: normal;
            max-width: none;
            border: none;
        }
        th {
            font-weight: bold;
        }
        tbody tr:nth-child(odd) {
            background: #f5f5f5;
        }
        tbody tr:hover {
            background: rgba(66, 165, 245, 0.2);
        }
        * + table {
            margin-top: 1em;
        }
    }
}

// Widgets
.jupyter-widget {
    .loading {
        margin: auto;
        padding: 16px;
        text-align: center;
        color: rgba(0, 0, 0, 0.54);

        p {
            font-size: 0.85rem;
        }
    }

    .widget-play .jupyter-button {
        min-height: 28px;
    }

    .jupyter-widgets.leaflet-widgets {
        height: 100% !important;
    }

    .widget-vbox {
        height: 100%;
    }

    .widget-readout {
        box-shadow: none;
    }

    .q-grid-container {
        .filter-icon {
            margin-top: 7px;
        }
    }
}

.layout-fill {
    // Plotting libraries

    // Altair
    .vega-embed {
        width: 95%;
        height: 95%;
        min-height: 95% !important;
        min-width: 95% !important;

        &.has-actions {
            width: calc(100% - 38px);
            padding-right: 0;

            summary {
                margin-right: -38px;
            }
        }

        // Fix altair toolbar (icons are svgs)
        // Looks like it snot needed anymore but leaving here for now just in case
        // summary svg {
        //     width: 14px;
        //     height: 14px;
        // }
    }

    // Matplotlib: SVG
    .jp-RenderedImage {
        img {
            width: 100%;
            height: 100%;
        }
    }

    // Matplotlib: SVG
    .jp-RenderedSVG {
        img {
            width: 100%;
            height: 100%;
        }
    }

    // Plotly
    .js-plotly-plot {
        width: 100% !important;
        height: 100% !important;

        .svg-container {
            width: 100% !important;
            height: 100% !important;
            max-height: 100% !important;
        }

        .main-svg {
            width: 100% !important;
            height: 100% !important;
        }

        // Fix plotly toolbar icons
        // Looks like this is no longer needed but leaving here just in case
        // .plot-container.plotly {
        //     .modebar-container svg {
        //         width: 1em;
        //         height: 1em;
        //     }
        // }
    }

    // Bokeh
    .bk-root {
        width: 100% !important;
        height: 100% !important;
    }

    // bqplot
    .bqplot {
        height: 100% !important;
        width: 99% !important;
    }
}

// Altair tooltips
#vg-tooltip-element {
    z-index: 9999;
}
